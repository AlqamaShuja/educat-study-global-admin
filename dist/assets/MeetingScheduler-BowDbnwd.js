import{r as h,j as e,B as n,b as se,L as te}from"./index-D_0a8VZH.js";import{u as ae}from"./useApi-DlTBhoZ7.js";import{C as x}from"./Card-BZSd9g6-.js";import{I as re}from"./Input-CvXmBRSW.js";import{M as R}from"./Modal-C-TYXrEH.js";import{B as L}from"./Badge-DnoA-fpa.js";import{V as q}from"./video-qm4RLfQ8.js";import{P as le}from"./phone-D-KHASr-.js";import{U as B}from"./user-Col8Dc6N.js";import{U as ie}from"./users-8DbqKR1r.js";import{C as _}from"./calendar-CFgP2NK7.js";import{C as S}from"./clock-CRKKHv1b.js";import{C as ne}from"./circle-alert-C7gzbhSX.js";import{X as ce}from"./x-DZDe4kcp.js";import{C as X}from"./check-BPMYOtuN.js";import{T as V}from"./trash-2-D-1SKTu4.js";import{M as J}from"./map-pin-Dpsu6ttS.js";import{S as K}from"./square-pen-DP2r3-IP.js";import{g as de,f as W,a as oe}from"./format-CW8_DxCc.js";import{t as me}from"./toDate-BKXxHYqX.js";import{s as xe,e as he,a as ue,C as ge,i as pe,c as je,b as fe}from"./subMonths-Boxt7nVc.js";import{C as ye}from"./chevron-right-CqWP2rwp.js";import{F as be}from"./funnel-WOOAs9vc.js";import{P as Y}from"./plus-DFJI7CJl.js";import{i as Ne,p as ve}from"./parseISO-hNh16Rp5.js";import{i as G}from"./isSameDay-MFaTNiDj.js";import{S as we}from"./save-DmVXDgr0.js";import"./userService-CYy00l9J.js";import"./leadService-BGFHSqvN.js";import"./officeService-CJb98nQG.js";import"./universityService-33LqWS7T.js";import"./courseService-BvKQP8zl.js";import"./messageService-C7q2WohE.js";import"./reportService-BE-X8rSB.js";import"./createLucideIcon-QavIXzvy.js";function ke(t,d){var g,j;const u=de(),p=u.weekStartsOn??((j=(g=u.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,m=me(t,d==null?void 0:d.in),o=m.getDay(),k=(o<p?-7:0)+6-(o-p);return m.setDate(m.getDate()+k),m.setHours(23,59,59,999),m}const Ce=({event:t,onClick:d,onEdit:u,onDelete:p,onStatusChange:m,compact:o=!1,showActions:k=!0,className:g=""})=>{const[j,f]=h.useState(!1),[y,D]=h.useState(!1),b={appointment:{color:"bg-blue-500",textColor:"text-blue-700",bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:_},meeting:{color:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-200",icon:ie},consultation:{color:"bg-purple-500",textColor:"text-purple-700",bgColor:"bg-purple-50",borderColor:"border-purple-200",icon:B},follow_up:{color:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-200",icon:le},virtual:{color:"bg-indigo-500",textColor:"text-indigo-700",bgColor:"bg-indigo-50",borderColor:"border-indigo-200",icon:q}},C={scheduled:{variant:"info",label:"Scheduled",icon:S},confirmed:{variant:"success",label:"Confirmed",icon:X},completed:{variant:"success",label:"Completed",icon:X},cancelled:{variant:"destructive",label:"Cancelled",icon:ce},no_show:{variant:"warning",label:"No Show",icon:ne},rescheduled:{variant:"warning",label:"Rescheduled",icon:S}},c=b[t.type]||b.appointment,r=C[t.status]||C.scheduled,i=r.icon,O=c.icon,$=N=>{N.stopPropagation(),d?d(t):f(!0)},T=N=>{N.stopPropagation(),u&&u(t),f(!1)},A=N=>{N.stopPropagation(),D(!0)},F=()=>{p&&p(t),D(!1),f(!1)},P=N=>{m&&m(t,N)};return o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:$,className:`
            p-2 rounded text-xs cursor-pointer transition-all duration-200
            hover:shadow-sm border-l-2 ${c.borderColor} ${c.bgColor}
            ${g}
          `,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${c.color} mr-2 flex-shrink-0`}),e.jsx("span",{className:`font-medium truncate ${c.textColor}`,children:t.title})]}),e.jsx(L,{variant:r.variant,className:"text-xs ml-2",children:r.label})]}),t.time&&e.jsxs("div",{className:"flex items-center mt-1 text-gray-600 dark:text-gray-400",children:[e.jsx(S,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:t.time})]}),t.participant&&e.jsxs("div",{className:"flex items-center mt-1 text-gray-600 dark:text-gray-400",children:[e.jsx(B,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"truncate",children:t.participant})]})]}),e.jsx(R,{isOpen:j,onClose:()=>f(!1),title:"Event Details",className:"max-w-md",children:e.jsx(Se,{event:t,config:c,statusInfo:r,onEdit:T,onDelete:A,onStatusChange:P,showActions:k})}),e.jsx(R,{isOpen:y,onClose:()=>D(!1),title:"Confirm Deletion",className:"max-w-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 mb-4",children:e.jsx(V,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this event? This action cannot be undone."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(n,{variant:"outline",onClick:()=>D(!1),className:"flex-1",children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:F,className:"flex-1",children:"Delete"})]})]})})]}):e.jsx("div",{className:`
        p-4 rounded-lg border transition-all duration-200 cursor-pointer
        hover:shadow-md ${c.bgColor} ${c.borderColor}
        ${g}
      `,onClick:$,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-full ${c.color}`,children:e.jsx(O,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:`font-semibold ${c.textColor}`,children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center flex-wrap gap-4 mt-2 text-sm text-gray-600 dark:text-gray-400",children:[t.time&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:t.time})]}),t.participant&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:t.participant})]}),t.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:t.location})]})]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2 ml-4",children:[e.jsxs(L,{variant:r.variant,children:[e.jsx(i,{className:"h-3 w-3 mr-1"}),r.label]}),k&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:T,className:"p-1",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:A,className:"p-1 text-red-600 hover:text-red-700",children:e.jsx(V,{className:"h-4 w-4"})})]})]})]})})},Se=({event:t,config:d,statusInfo:u,onEdit:p,onDelete:m,onStatusChange:o,showActions:k})=>{const g=d.icon,j=u.icon;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-3 rounded-full ${d.color}`,children:e.jsx(g,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.type.charAt(0).toUpperCase()+t.type.slice(1).replace("_"," ")})]}),e.jsxs(L,{variant:u.variant,children:[e.jsx(j,{className:"h-3 w-3 mr-1"}),u.label]})]}),e.jsxs("div",{className:"space-y-3",children:[t.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.date&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:W(new Date(t.date),"EEEE, MMMM d, yyyy")})]}),t.time&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.time})]}),t.participant&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.participant})]}),t.location&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.location})]}),t.meetingLink&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsx("a",{href:t.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400",children:"Join Meeting"})]})]})]}),o&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Quick Actions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(statusConfig).map(([f,y])=>e.jsxs(n,{variant:t.status===f?"default":"outline",size:"sm",onClick:()=>o(f),className:"text-xs",children:[e.jsx(y.icon,{className:"h-3 w-3 mr-1"}),y.label]},f))})]}),k&&e.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(n,{variant:"outline",onClick:p,className:"flex-1",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Edit Event"]}),e.jsxs(n,{variant:"destructive",onClick:m,className:"flex-1",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})},De=({events:t=[],selectedDate:d,onDateSelect:u,onEventClick:p,onEventCreate:m,onEventUpdate:o,onEventDelete:k,view:g="month",showFilter:j=!0,showCreateButton:f=!0,eventFilters:y={},className:D=""})=>{const[b,C]=h.useState(d||new Date),[c,r]=h.useState(j),[i,O]=h.useState({status:"all",type:"all",consultant:"all"}),$=h.useMemo(()=>{const s=xe(b),l=he(b),v=oe(s),w=ke(l);return ue({start:v,end:w})},[b]),T=h.useMemo(()=>t.filter(s=>!(i.status!=="all"&&s.status!==i.status||i.type!=="all"&&s.type!==i.type||i.consultant!=="all"&&s.consultantId!==i.consultant)),[t,i]),A=s=>T.filter(l=>{const v=typeof l.date=="string"?ve(l.date):l.date;return G(v,s)}),F=s=>{C(l=>s==="next"?je(l,1):fe(l))},P=()=>{C(new Date)},N=s=>{u&&u(s)},z=s=>{p&&p(s)},U=s=>{m&&m(s)},a=()=>{const s=[...new Set(t.map(w=>w.status))],l=[...new Set(t.map(w=>w.type))],v=[...new Set(t.map(w=>w.consultantId))];return{statuses:s,types:l,consultants:v}},{statuses:M,types:I,consultants:E}=a();return e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg ${D}`,children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:W(b,"MMMM yyyy")}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>F("prev"),className:"p-2",children:e.jsx(ge,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>F("next"),className:"p-2",children:e.jsx(ye,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:P,children:"Today"}),c&&e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>r(!c),className:c?"bg-gray-100 dark:bg-gray-700":"",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),"Filters"]}),f&&e.jsxs(n,{size:"sm",onClick:()=>U(b),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"New Event"]})]})]}),c&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs("select",{value:i.status,onChange:s=>O(l=>({...l,status:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),M.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:i.type,onChange:s=>O(l=>({...l,type:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Types"}),I.map(s=>e.jsx("option",{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Consultant"}),e.jsxs("select",{value:i.consultant,onChange:s=>O(l=>({...l,consultant:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Consultants"}),E.map(s=>e.jsxs("option",{value:s,children:["Consultant ",s]},s))]})]})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>e.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:s},s))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:$.map((s,l)=>{const v=A(s),w=pe(s,b),Z=d&&G(s,d),Q=Ne(s);return e.jsxs("div",{className:`
                  min-h-[120px] p-2 border border-gray-200 dark:border-gray-700 cursor-pointer
                  transition-colors duration-200 hover:bg-gray-50 dark:hover:bg-gray-700
                  ${w?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900 text-gray-400"}
                  ${Z?"ring-2 ring-blue-500":""}
                  ${Q?"bg-blue-50 dark:bg-blue-900/20":""}
                `,onClick:()=>N(s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`
                      text-sm font-medium
                      ${Q?"text-blue-600 dark:text-blue-400 font-bold":""}
                      ${w?"text-gray-900 dark:text-white":"text-gray-400"}
                    `,children:W(s,"d")}),v.length>0&&e.jsx(L,{variant:"secondary",className:"text-xs px-1 py-0",children:v.length})]}),e.jsxs("div",{className:"space-y-1",children:[v.slice(0,3).map((H,ee)=>e.jsx(Ce,{event:H,onClick:()=>z(H),compact:!0},H.id||ee)),v.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["+",v.length-3," more"]})]})]},l)})})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[T.length," events this month"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Click dates to create events"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),e.jsx("span",{children:"Appointments"})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),e.jsx("span",{children:"Meetings"})]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded mr-2"}),e.jsx("span",{children:"Tasks"})]})]})]})})]})},ds=()=>{var U;const{user:t}=se(),{request:d,loading:u}=ae(),[p,m]=h.useState([]),[o,k]=h.useState(new Date),[g,j]=h.useState(null),[f,y]=h.useState(!1),[D,b]=h.useState([]),[C,c]=h.useState([]),[r,i]=h.useState({studentId:"",title:"",description:"",type:"virtual",duration:60,reminderTime:15});h.useEffect(()=>{O(),$(),T()},[]);const O=async()=>{try{const I=(await d("/consultant/leads")||[]).map(E=>{var s,l;return{id:E.studentId,name:((s=E.student)==null?void 0:s.name)||"Unknown",email:((l=E.student)==null?void 0:l.email)||"N/A",status:E.status}});m(I)}catch(a){console.error("Error fetching students:",a)}},$=async()=>{b([{day:"monday",slots:["09:00","10:00","11:00","14:00","15:00","16:00"]},{day:"tuesday",slots:["09:00","10:00","11:00","14:00","15:00","16:00"]},{day:"wednesday",slots:["09:00","10:00","11:00","14:00","15:00","16:00"]},{day:"thursday",slots:["09:00","10:00","11:00","14:00","15:00","16:00"]},{day:"friday",slots:["09:00","10:00","11:00","14:00","15:00"]}])},T=async()=>{const a=[{date:new Date().toISOString().split("T")[0],time:"10:00",studentName:"John Doe"},{date:new Date().toISOString().split("T")[0],time:"15:00",studentName:"Jane Smith"}];c(a)},A=a=>{const M=a.toLocaleDateString("en-US",{weekday:"lowercase"}),I=D.find(l=>l.day===M);if(!I)return[];const E=a.toISOString().split("T")[0],s=C.filter(l=>l.date===E).map(l=>l.time);return I.slots.filter(l=>!s.includes(l))},F=async()=>{if(!r.studentId||!o||!g){alert("Please fill in all required fields");return}try{const a=new Date(o),[M,I]=g.split(":");a.setHours(parseInt(M),parseInt(I)),await d(`/consultant/students/${r.studentId}/meetings`,{method:"POST",data:{dateTime:a.toISOString(),type:r.type,notes:`${r.title}

${r.description}`}}),i({studentId:"",title:"",description:"",type:"virtual",duration:60,reminderTime:15}),j(null),y(!1),T(),alert("Meeting scheduled successfully!")}catch(a){console.error("Error scheduling meeting:",a),alert("Error scheduling meeting. Please try again.")}},P=a=>{k(a),j(null)},N=a=>{j(a),y(!0)},z=A(o);return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(te,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meeting Scheduler"}),e.jsx("p",{className:"text-gray-600",children:"Schedule meetings with your students"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(x,{children:[e.jsx(x.Header,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2"}),"Select Date"]}),e.jsx("div",{className:"text-sm text-gray-600",children:o.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),e.jsx(x.Content,{children:e.jsx(De,{selectedDate:o,onDateSelect:P,showTimeSlots:!1,minDate:new Date,maxDate:new Date(Date.now()+30*24*60*60*1e3)})})]}),e.jsxs(x,{className:"mt-6",children:[e.jsx(x.Header,{children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Today's Schedule"]})}),e.jsx(x.Content,{children:C.filter(a=>a.date===new Date().toISOString().split("T")[0]).length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No appointments scheduled for today"}):e.jsx("div",{className:"space-y-3",children:C.filter(a=>a.date===new Date().toISOString().split("T")[0]).map((a,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:a.time}),e.jsx("p",{className:"text-sm text-gray-600",children:a.studentName})]})]}),e.jsx(Badge,{className:"bg-blue-100 text-blue-800",children:"Scheduled"})]},M))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{children:[e.jsx(x.Header,{children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(S,{className:"h-5 w-5 mr-2"}),"Available Times"]})}),e.jsx(x.Content,{children:z.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No available time slots for selected date"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:z.map(a=>e.jsx(n,{variant:g===a?"default":"outline",size:"sm",onClick:()=>N(a),className:"justify-center",children:a},a))})})]}),e.jsxs(x,{children:[e.jsx(x.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"Quick Schedule"})}),e.jsx(x.Content,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.studentId,onChange:a=>i({...r,studentId:a.target.value}),children:[e.jsx("option",{value:"",children:"Select a student"}),p.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Type"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(n,{variant:r.type==="virtual"?"default":"outline",size:"sm",onClick:()=>i({...r,type:"virtual"}),className:"flex-1",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"Virtual"]}),e.jsxs(n,{variant:r.type==="in_person"?"default":"outline",size:"sm",onClick:()=>i({...r,type:"in_person"}),className:"flex-1",children:[e.jsx(J,{className:"h-4 w-4 mr-1"}),"In Person"]})]})]}),e.jsxs(n,{onClick:()=>y(!0),disabled:!r.studentId||!o||!g,className:"w-full",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})})]}),e.jsxs(x,{children:[e.jsx(x.Header,{children:e.jsx("h3",{className:"text-lg font-semibold",children:"This Week"})}),e.jsx(x.Content,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Meetings"}),e.jsx("span",{className:"font-semibold",children:"12"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("span",{className:"font-semibold text-green-600",children:"8"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Upcoming"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"4"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Virtual"}),e.jsx("span",{className:"font-semibold",children:"7"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"In Person"}),e.jsx("span",{className:"font-semibold",children:"5"})]})]})})]})]})]}),e.jsx(R,{isOpen:f,onClose:()=>{y(!1),i({studentId:"",title:"",description:"",type:"virtual",duration:60,reminderTime:15})},title:"Schedule Meeting",size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Meeting Details"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",o.toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time:"})," ",g]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Student:"})," ",((U=p.find(a=>a.id===r.studentId))==null?void 0:U.name)||"Not selected"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",r.type.replace("_"," ")]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Title"}),e.jsx(re,{value:r.title,onChange:a=>i({...r,title:a.target.value}),placeholder:"Enter meeting title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:3,value:r.description,onChange:a=>i({...r,description:a.target.value}),placeholder:"Enter meeting description..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.duration,onChange:a=>i({...r,duration:parseInt(a.target.value)}),children:[e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:r.reminderTime,onChange:a=>i({...r,reminderTime:parseInt(a.target.value)}),children:[e.jsx("option",{value:5,children:"5 minutes before"}),e.jsx("option",{value:15,children:"15 minutes before"}),e.jsx("option",{value:30,children:"30 minutes before"}),e.jsx("option",{value:60,children:"1 hour before"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(n,{variant:"outline",onClick:()=>{y(!1),i({studentId:"",title:"",description:"",type:"virtual",duration:60,reminderTime:15})},children:"Cancel"}),e.jsxs(n,{onClick:F,children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})]})})]})};export{ds as default};
