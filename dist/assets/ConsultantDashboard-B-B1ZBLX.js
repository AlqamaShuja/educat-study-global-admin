import{r as m,j as e,B as j,L as b}from"./index-D_0a8VZH.js";import{u as B}from"./consultantStore-BUlIl15K.js";import{C as f}from"./Card-BZSd9g6-.js";import{L as D}from"./LeadStatusTakAndDocumentModal-CiL-8Dev.js";import{U as x}from"./users-8DbqKR1r.js";import{S as E}from"./square-check-big-m-Ggu3E7.js";import{F as I}from"./file-text-C1gJtZnp.js";import"./index.esm-D1kEuNb-.js";import"./types-DPbsuHNA.js";import"./Modal-C-TYXrEH.js";import"./LeadDetailsView-DOawn3lM.js";import"./user-Col8Dc6N.js";import"./createLucideIcon-QavIXzvy.js";import"./mail-NeauaYI_.js";import"./phone-D-KHASr-.js";import"./calendar-CFgP2NK7.js";import"./globe-DqWFKqX7.js";import"./map-pin-Dpsu6ttS.js";import"./circle-alert-C7gzbhSX.js";import"./graduation-cap-Do7Wuoca.js";import"./book-open-DbrekBPc.js";import"./award-v-MKA7uy.js";import"./briefcase-CCsjQawY.js";import"./target-Bd_0vASp.js";import"./house-QsopEcn9.js";import"./star-BoEBFERM.js";import"./dollar-sign-CXh0vXW8.js";import"./info-BQUEcjA-.js";import"./format-CW8_DxCc.js";import"./toDate-BKXxHYqX.js";const z=[{header:"Student Name",accessor:s=>{var t;return((t=s.student)==null?void 0:t.name)||"N/A"}},{header:"Email",accessor:s=>{var t;return((t=s.student)==null?void 0:t.email)||"N/A"}},{header:"Status",accessor:s=>e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium capitalize
      ${s.status==="in_progress"?"bg-blue-100 text-blue-800":s.status==="converted"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status.replace("_"," ")})},{header:"Source",accessor:"source"},{header:"Actions",accessor:s=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>s.onSelectLead(s),className:"border-blue-500 text-blue-600 hover:bg-blue-50 hover:border-blue-600 transition-colors duration-200 font-medium",children:"View Details"})}],F=({columns:s,data:t,onSelectLead:c})=>e.jsx("div",{className:"overflow-x-auto rounded-lg shadow-sm",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsx("tr",{children:s.map((i,a)=>e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-indigo-900 uppercase tracking-wider",children:i.header},a))})}),e.jsx("tbody",{children:t!=null&&t.length?t.map((i,a)=>e.jsx("tr",{className:`transition-colors hover:bg-gray-50 ${a%2===0?"bg-white":"bg-gray-50"}`,children:s.map((o,l)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof o.accessor=="function"?o.accessor({...i,onSelectLead:c}):i[o.accessor]||"N/A"},l))},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:s.length,className:"px-6 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(x,{className:"h-8 w-8 text-gray-400"}),e.jsx("p",{children:"No leads available."})]})})})})]})});function he(){var u,p;const{leads:s,selectedLead:t,tasks:c,documents:i,fetchLeads:a,fetchLeadTasks:o,fetchLeadDocuments:l,selectLead:N,clearSelectedLead:y,updateLeadStatus:v,addConsultationNote:w,setFollowUpTask:C,scheduleMeeting:L,updateTaskStatus:k,loading:n}=B(),[S,h]=m.useState(!1);m.useEffect(()=>{a()},[a]),m.useEffect(()=>{t!=null&&t.id&&(o(t.id),l(t.id))},[t,o,l]);const M=r=>{var g;const A=((g=r.history)==null?void 0:g.map(d=>({...d,userRole:d.userId===r.studentId?"Student":d.userId===r.assignedConsultant?"Consultant":d.userId==="201745bd-7c96-4360-9f01-776729d63de9"?"Manager":"Admin"})))||[];N({...r,history:A}),h(!0)},T=()=>{h(!1),y()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-100 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Consultant Dashboard"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your leads, tasks, and documents efficiently"})]}),e.jsxs(j,{onClick:()=>a(),disabled:n,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-md",children:[n?e.jsx(b,{className:"h-4 w-4 text-white"}):e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5m11 0h-5m-6 6v5h5m-11 0h5"})}),"Refresh Leads"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{label:"Total Leads",value:(s==null?void 0:s.length)||0,icon:x,bgColor:"bg-gradient-to-br from-blue-500 to-indigo-600"},{label:"In Progress",value:((u=s==null?void 0:s.filter(r=>r.status==="in_progress"))==null?void 0:u.length)||0,icon:E,bgColor:"bg-gradient-to-br from-blue-400 to-blue-600"},{label:"Converted",value:((p=s==null?void 0:s.filter(r=>r.status==="converted"))==null?void 0:p.length)||0,icon:I,bgColor:"bg-gradient-to-br from-green-400 to-green-600"}].map(r=>e.jsx(f,{className:`p-6 ${r.bgColor} text-white rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium opacity-90",children:r.label}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:r.value})]}),e.jsx(r.icon,{className:"h-8 w-8 opacity-80"})]})},r.label))}),e.jsxs(f,{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-indigo-600"}),"My Leads"]}),e.jsxs("div",{className:"relative w-64",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search leads...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",onChange:r=>{}})]})]}),n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b,{className:"h-10 w-10 text-indigo-600"})}):e.jsx(F,{columns:z,data:s,onSelectLead:M})]}),e.jsx(D,{isOpen:S,onClose:T,selectedLead:t,tasks:c,documents:i,fetchLeadTasks:o,fetchLeadDocuments:l,updateLeadStatus:v,addConsultationNote:w,setFollowUpTask:C,scheduleMeeting:L,updateTaskStatus:k,loading:n})]})})}export{he as default};
