import{j as e,L as Y,B as S,R as Z,r as N}from"./index-D_0a8VZH.js";import{I as K}from"./Input-CvXmBRSW.js";import{S as P}from"./Select-DcciDOjL.js";const ee=({columns:t,data:i,loading:j=!1,emptyMessage:x="No data available",className:f="",onRowClick:o,striped:v=!0})=>j?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Y,{size:"lg",text:"Loading data..."})}):!i||i.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:x})}):e.jsx("div",{className:`overflow-x-auto ${f}`,children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:t==null?void 0:t.map((d,n)=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d==null?void 0:d.header},n))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i==null?void 0:i.map((d,n)=>e.jsx("tr",{className:`
                ${v&&n%2===1?"bg-gray-50":"bg-white"}
                ${o?"hover:bg-gray-100 cursor-pointer":""}
                transition-colors
              `,onClick:()=>o&&o(d,n),children:t.map((l,p)=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l!=null&&l.render?l.render(d[l.key],d,n):d[l==null?void 0:l.key]},p))},n))})]})}),se=({currentPage:t,totalPages:i,onPageChange:j,showInfo:x=!0,totalItems:f=0,itemsPerPage:o=10})=>{const v=(t-1)*o+1,d=Math.min(t*o,f),n=()=>{const p=[],u=[];for(let b=Math.max(2,t-2);b<=Math.min(i-1,t+2);b++)p.push(b);return t-2>2?u.push(1,"..."):u.push(1),u.push(...p),t+2<i-1?u.push("...",i):i>1&&u.push(i),u};return i<=1?null:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[x&&e.jsx("div",{className:"flex-1 flex justify-between sm:hidden",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",v," to ",d," of ",f," results"]})}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[x&&e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:v})," to"," ",e.jsx("span",{className:"font-medium",children:d})," of"," ",e.jsx("span",{className:"font-medium",children:f})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx(S,{variant:"outline",size:"sm",disabled:t===1,onClick:()=>j(t-1),className:"rounded-r-none",children:"Previous"}),n().map((l,p)=>e.jsx(Z.Fragment,{children:l==="..."?e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}):e.jsx(S,{variant:t===l?"primary":"outline",size:"sm",onClick:()=>j(l),className:"rounded-none",children:l})},p)),e.jsx(S,{variant:"outline",size:"sm",disabled:t===i,onClick:()=>j(t+1),className:"rounded-l-none",children:"Next"})]})})]})]})},h=({width:t="100%",height:i="1rem",className:j="",variant:x="default",count:f=1,circle:o=!1})=>{const n=`bg-gray-200 animate-pulse ${o?"rounded-full":{default:"rounded",text:"rounded h-4",card:"rounded-lg h-48",avatar:"rounded-full w-10 h-10",button:"rounded-lg h-10"}[x]} ${j}`,l=()=>e.jsx("div",{className:n,style:{width:t,height:o?t:i}});return f===1?l():e.jsx("div",{className:"space-y-2",children:Array.from({length:f},(p,u)=>e.jsx("div",{children:l()},u))})},te=({className:t=""})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-6 ${t}`,children:[e.jsx(h,{variant:"text",width:"60%",className:"mb-4"}),e.jsx(h,{variant:"text",width:"100%",className:"mb-2"}),e.jsx(h,{variant:"text",width:"80%",className:"mb-4"}),e.jsx(h,{variant:"button",width:"120px"})]}),re=({rows:t=5,columns:i=4})=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:Array.from({length:i},(j,x)=>e.jsx("th",{className:"px-6 py-3",children:e.jsx(h,{variant:"text",width:"80%"})},x))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:t},(j,x)=>e.jsx("tr",{children:Array.from({length:i},(f,o)=>e.jsx("td",{className:"px-6 py-4",children:e.jsx(h,{variant:"text",width:"90%"})},o))},x))})]})}),ae=({items:t=5})=>e.jsx("div",{className:"space-y-4",children:Array.from({length:t},(i,j)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(h,{circle:!0,width:"40px",height:"40px"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(h,{variant:"text",width:"60%",className:"mb-2"}),e.jsx(h,{variant:"text",width:"40%"})]})]},j))});h.Card=te;h.Table=re;h.List=ae;const de=({data:t=[],columns:i=[],loading:j=!1,searchable:x=!1,filterable:f=!0,sortable:o=!0,selectable:v=!1,pagination:d=!0,pageSize:n=10,onRowClick:l,onSelectionChange:p,filters:u=[],actions:b=[],bulkActions:T=[],exportable:I=!1,onExport:O,className:B="",emptyMessage:H="No data available",title:$,subtitle:A})=>{const[C,E]=N.useState(""),[g,q]=N.useState({key:null,direction:"asc"}),[z,F]=N.useState(1),[w,M]=N.useState(new Set),[L,R]=N.useState({}),V=N.useMemo(()=>{const s=[];return v&&s.push({key:"selection",header:e.jsx("input",{type:"checkbox",checked:w.size===t.length&&t.length>0,onChange:r=>{r.target.checked?M(new Set(t.map((a,c)=>c))):M(new Set)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),render:(r,a,c)=>e.jsx("input",{type:"checkbox",checked:w.has(c),onChange:m=>{const k=new Set(w);m.target.checked?k.add(c):k.delete(c),M(k),p&&p(Array.from(k).map(D=>t[D]))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),width:"50px"}),i.forEach(r=>{const a={...r};o&&r.sortable!==!1&&(a.header=e.jsxs("button",{className:"flex items-center space-x-1 hover:text-gray-700 focus:outline-none",onClick:()=>J(r.key),children:[e.jsx("span",{children:r.header}),g.key===r.key&&e.jsx("svg",{className:`w-4 h-4 ${g.direction==="asc"?"transform rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})),s.push(a)}),b.length>0&&s.push({key:"actions",header:"Actions",render:(r,a,c)=>e.jsx("div",{className:"flex items-center space-x-2",children:b.map((m,k)=>e.jsxs(S,{variant:m.variant||"outline",size:"sm",onClick:D=>{D.stopPropagation(),m.onClick(a,c)},disabled:m.disabled&&m.disabled(a),className:m.className,children:[m.icon&&e.jsx("span",{className:"mr-1",children:m.icon}),m.label]},k))}),width:`${b.length*80}px`}),s},[i,v,w,t,o,g,b,p]),_=N.useMemo(()=>{let s=[...t];return C&&x&&(s=s.filter(r=>i.some(a=>{const c=r[a.key];return c&&c.toString().toLowerCase().includes(C.toLowerCase())}))),Object.entries(L).forEach(([r,a])=>{a&&(s=s.filter(c=>{const m=u.find(k=>k.key===r);return m&&m.filterFn?m.filterFn(c,a):c[r]===a}))}),s},[t,C,L,x,i,u]),y=N.useMemo(()=>g.key?[..._].sort((s,r)=>{const a=s[g.key],c=r[g.key];return a<c?g.direction==="asc"?-1:1:a>c?g.direction==="asc"?1:-1:0}):_,[_,g]),W=N.useMemo(()=>{if(!d)return y;const s=(z-1)*n,r=s+n;return y.slice(s,r)},[y,z,n,d]),G=Math.ceil(y.length/n),J=s=>{q(r=>({key:s,direction:r.key===s&&r.direction==="asc"?"desc":"asc"}))},Q=(s,r)=>{R(a=>({...a,[s]:r})),F(1)},U=()=>{R({}),E(""),F(1)},X=s=>{const r=Array.from(w).map(a=>t[a]);s.onClick(r),M(new Set)};return j?e.jsxs("div",{className:B,children:[$&&e.jsxs("div",{className:"mb-6",children:[e.jsx(h,{width:"200px",height:"24px",className:"mb-2"}),A&&e.jsx(h,{width:"300px",height:"16px"})]}),e.jsx(h.Table,{rows:n,columns:V.length})]}):e.jsxs("div",{className:B,children:[($||A)&&e.jsxs("div",{className:"mb-6",children:[$&&e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:$}),A&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-3 sm:space-y-0",children:[x&&e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(K,{placeholder:"Search...",value:C,onChange:s=>E(s.target.value),className:"w-full sm:w-64"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I&&e.jsxs(S,{variant:"outline",size:"sm",onClick:O,disabled:y.length===0,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export"]}),L&&Object.keys(L).some(s=>L[s])||C?e.jsx(S,{variant:"outline",size:"sm",onClick:U,children:"Clear Filters"}):null]})]}),f&&u.length>0&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(s=>{var r;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s.label}),e.jsx(P,{options:s.options,value:(r=s.options)==null?void 0:r.find(a=>a.value===L[s.key]),onChange:a=>Q(s.key,(a==null?void 0:a.value)||""),placeholder:`All ${s.label.toLowerCase()}`})]},s.key)})}),v&&w.size>0&&T.length>0&&e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-blue-700",children:[w.size," item",w.size!==1?"s":""," ","selected"]}),e.jsx("div",{className:"flex items-center space-x-2",children:T.map((s,r)=>e.jsxs(S,{variant:s.variant||"outline",size:"sm",onClick:()=>X(s),className:s.className,children:[s.icon&&e.jsx("span",{className:"mr-1",children:s.icon}),s.label]},r))})]})]}),y.length>0&&e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",W.length," of ",y.length," results",C&&` for "${C}"`]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx(ee,{columns:V,data:W,loading:!1,emptyMessage:H,onRowClick:l,striped:!0})}),d&&y.length>n&&e.jsx("div",{className:"mt-6",children:e.jsx(se,{currentPage:z,totalPages:G,onPageChange:F,totalItems:y.length,itemsPerPage:n,showInfo:!0})})]})};export{de as D};
