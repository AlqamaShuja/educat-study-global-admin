import{r as l,j as s}from"./index-8BfwU0ug.js";const L=({label:h,options:p=[],value:t,onChange:b,placeholder:y="Select option...",error:i,disabled:d=!1,required:N=!1,multiple:n=!1,searchable:a=!1,className:v=""})=>{const[o,u]=l.useState(!1),[c,f]=l.useState(""),x=l.useRef(null),m=l.useRef(null),j=a&&c?p.filter(e=>e.label.toLowerCase().includes(c.toLowerCase())):p;l.useEffect(()=>{const e=r=>{x.current&&!x.current.contains(r.target)&&(u(!1),f(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),l.useEffect(()=>{o&&a&&m.current&&m.current.focus()},[o,a]);const k=e=>{if(n){const r=Array.isArray(t)?[...t]:[],w=r.findIndex(S=>S.value===e.value);w>-1?r.splice(w,1):r.push(e),b(r)}else b(e),u(!1),f("")},C=()=>n&&Array.isArray(t)?t.length>0?`${t.length} selected`:y:(t==null?void 0:t.label)||y,g=e=>n&&Array.isArray(t)?t.some(r=>r.value===e.value):(t==null?void 0:t.value)===e.value;return s.jsxs("div",{className:`relative ${v}`,children:[h&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[h,N&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsxs("div",{ref:x,className:"relative",children:[s.jsxs("button",{type:"button",className:`
            relative w-full bg-white border rounded-lg shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
            ${i?"border-red-500":"border-gray-300"}
            ${d?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400"}
          `,onClick:()=>!d&&u(!o),disabled:d,children:[s.jsx("span",{className:`block truncate ${!t||n&&!t.length?"text-gray-500":"text-gray-900"}`,children:C()}),s.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"})})})]}),o&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none",children:[a&&s.jsx("div",{className:"sticky top-0 bg-white px-3 py-2 border-b border-gray-200",children:s.jsx("input",{ref:m,type:"text",className:"w-full px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search options...",value:c,onChange:e=>f(e.target.value)})}),j.length===0?s.jsx("div",{className:"px-3 py-2 text-gray-500 text-sm",children:c?"No options found":"No options available"}):j.map((e,r)=>s.jsxs("div",{className:`
                    cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-100
                    ${g(e)?"bg-blue-50 text-blue-900":"text-gray-900"}
                  `,onClick:()=>k(e),children:[s.jsx("span",{className:`block truncate ${g(e)?"font-medium":"font-normal"}`,children:e.label}),g(e)&&s.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600",children:s.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})})})]},r))]})]}),i&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i})]})};export{L as S};
