import{r as b,b as L,u as T,j as e,g as d,B as U}from"./index-B8d-T4_g.js";import{u as z}from"./index.esm-BWJgXdQv.js";import{a as D,o as J,b as V,e as Y,s as n}from"./types-Dq7JeT6W.js";import{I as i}from"./Input-DF3u4mg_.js";import{U as A}from"./user-B-VtmG-j.js";import{M as Z}from"./mail-DBCuZO0A.js";import{P as _}from"./phone-Dncapw21.js";import{L as C}from"./lock-CC06Wr5f.js";import{E as F}from"./eye-off-CtiOpaKC.js";import{E}from"./eye-Dj_O8XyO.js";import{L as q}from"./loader-circle-BG6rZGXx.js";import"./createLucideIcon-Sm81qEul.js";const K=J({firstName:n().min(2,"First name must be at least 2 characters"),lastName:n().min(2,"Last name must be at least 2 characters"),email:n().email("Please enter a valid email address"),phone:n().min(10,"Please enter a valid phone number"),password:n().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:n(),role:Y(["student","consultant","receptionist","manager"],{errorMap:()=>({message:"Please select a valid role"})}),termsAccepted:V().refine(r=>r===!0,{message:"You must accept the terms and conditions"})}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Q=({onSuccess:r,redirectTo:x="/dashboard"})=>{var j,N,v,w,k,P,S;const[o,u]=b.useState(!1),[m,g]=b.useState(!1),{signup:h,isLoading:s,error:y}=L(),M=T(),{register:l,handleSubmit:R,formState:{errors:a,isSubmitting:t},setError:f,watch:B}=z({resolver:D(K),defaultValues:{firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",role:"student",termsAccepted:!1}});B("password");const I=async c=>{try{const{confirmPassword:G,termsAccepted:W,...H}=c,p=await h(H);p.success?r?r(p.user):M(x):f("root",{message:p.error||"Signup failed"})}catch{f("root",{message:"An unexpected error occurred"})}},O=[{value:"student",label:"Student"},{value:"consultant",label:"Consultant"},{value:"receptionist",label:"Receptionist"},{value:"manager",label:"Manager"}];return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create Account"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Join us today and get started"})]}),e.jsxs("form",{onSubmit:R(I),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"firstName",type:"text",placeholder:"First name",className:"pl-10",...l("firstName"),error:(j=a.firstName)==null?void 0:j.message,disabled:t||s})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"lastName",type:"text",placeholder:"Last name",className:"pl-10",...l("lastName"),error:(N=a.lastName)==null?void 0:N.message,disabled:t||s})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"email",type:"email",placeholder:"Enter your email",className:"pl-10",...l("email"),error:(v=a.email)==null?void 0:v.message,disabled:t||s})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"phone",type:"tel",placeholder:"Enter your phone number",className:"pl-10",...l("phone"),error:(w=a.phone)==null?void 0:w.message,disabled:t||s})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),e.jsx("select",{id:"role",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",...l("role"),disabled:t||s,children:O.map(c=>e.jsx("option",{value:c.value,children:c.label},c.value))}),a.role&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.role.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"password",type:o?"text":"password",placeholder:"Create a password",className:"pl-10 pr-10",...l("password"),error:(k=a.password)==null?void 0:k.message,disabled:t||s}),e.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:t||s,children:o?e.jsx(F,{className:"h-5 w-5"}):e.jsx(E,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(i,{id:"confirmPassword",type:m?"text":"password",placeholder:"Confirm your password",className:"pl-10 pr-10",...l("confirmPassword"),error:(P=a.confirmPassword)==null?void 0:P.message,disabled:t||s}),e.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",disabled:t||s,children:m?e.jsx(F,{className:"h-5 w-5"}):e.jsx(E,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1",...l("termsAccepted"),disabled:t||s}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:["I agree to the"," ",e.jsx(d,{to:"/terms",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Terms and Conditions"})," ","and"," ",e.jsx(d,{to:"/privacy",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Privacy Policy"})]})]}),a.termsAccepted&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.termsAccepted.message})]}),(a.root||y)&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:((S=a.root)==null?void 0:S.message)||y})}),e.jsxs(U,{type:"submit",className:"w-full",disabled:t||s,children:[(t||s)&&e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(d,{to:"/login",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"Sign in"})]})})]})})},me=()=>{const r=T(),{isAuthenticated:x,user:o}=L();b.useEffect(()=>{x&&o&&r("/dashboard",{replace:!0})},[x,o,r]);const u=m=>{const h={super_admin:"/super-admin/dashboard",manager:"/manager/dashboard",consultant:"/consultant/dashboard",receptionist:"/receptionist/dashboard",student:"/student/profile"}[m.role]||"/dashboard";r(h,{replace:!0})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"py-1 px-4 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",title:"Study Global",children:"SG"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Panel"})]})})}),e.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx(Q,{onSuccess:u}),e.jsxs("div",{className:"mt-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Account Types"}),e.jsxs("div",{className:"space-y-1 text-xs text-blue-700 dark:text-blue-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Consultant:"})," Manage students, schedule meetings, review applications"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Receptionist:"})," Handle walk-ins, book appointments, manage calendars"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Manager:"})," Oversee office operations, manage staff, view reports"]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500",children:"Need help?"})})]}),e.jsxs("div",{className:"mt-6 flex justify-center space-x-4 text-sm",children:[e.jsx(d,{to:"/support",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Contact Support"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),e.jsx(d,{to:"/help",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Help Center"})]})]})]}),e.jsx("div",{className:"mt-8 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsxs("p",{children:["By creating an account, you agree to our"," ",e.jsx(d,{to:"/terms",className:"underline hover:text-gray-700 dark:hover:text-gray-300",children:"Terms of Service"})," ","and"," ",e.jsx(d,{to:"/privacy",className:"underline hover:text-gray-700 dark:hover:text-gray-300",children:"Privacy Policy"})]})})]})};export{me as default};
