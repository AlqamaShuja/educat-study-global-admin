import{d as n}from"./index-8BfwU0ug.js";const a="/receptionist",p={registerWalkIn:async t=>{var e;try{return await n.post(`${a}/leads/register`,t)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},getAppointmentConfirmation:async t=>{var e;try{return await n.get(`${a}/leads/${t}/confirmation`)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},bookAppointment:async t=>{var e;try{return await n.post(`${a}/appointments`,t)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},rescheduleAppointment:async(t,e)=>{var s;try{return await n.put(`${a}/appointments/${t}`,e)}catch(r){throw((s=r.response)==null?void 0:s.data)||r.message}},cancelAppointment:async t=>{var e;try{return await n.delete(`${a}/appointments/${t}`)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},sendAppointmentReminder:async(t,e)=>{var s;try{return await n.post(`${a}/appointments/${t}/reminder`,e)}catch(r){throw((s=r.response)==null?void 0:s.data)||r.message}},checkInStudent:async t=>{var e;try{return await n.post(`${a}/appointments/${t}/check-in`)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},getConsultantCalendars:async()=>{var t;try{return await n.get(`${a}/consultants/calendars`)}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},getWaitingList:async()=>{var t;try{return await n.get(`${a}/appointments/waiting-list`)}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},updateLeadContact:async(t,e)=>{var s;try{return await n.put(`${a}/leads/${t}/contact`,e)}catch(r){throw((s=r.response)==null?void 0:s.data)||r.message}},updateLeadStatus:async(t,e)=>{var s;try{return await n.put(`${a}/leads/${t}/status`,e)}catch(r){throw((s=r.response)==null?void 0:s.data)||r.message}},addLeadNotes:async(t,e)=>{var s;try{return await n.post(`${a}/leads/${t}/notes`,e)}catch(r){throw((s=r.response)==null?void 0:s.data)||r.message}},getLeadHistory:async t=>{var e;try{return await n.get(`${a}/leads/${t}/history`)}catch(s){throw((e=s.response)==null?void 0:e.data)||s.message}},getDashboardData:async()=>{var t;try{const[e,s]=await Promise.all([p.getWaitingList(),p.getConsultantCalendars()]),r=new Date().toDateString(),i=s.filter(o=>new Date(o.dateTime).toDateString()===r),c={todayAppointments:i.length,waitingList:e.length,completedToday:i.filter(o=>o.status==="completed").length,totalStudents:new Set(i.map(o=>o.studentId)).size};return{todayAppointments:i,waitingList:e,consultantCalendars:s,stats:c}}catch(e){throw((t=e.response)==null?void 0:t.data)||e.message}},validateWalkInData:t=>{const e={};return t.studentData?(t.studentData.name||(e.name="Student name is required"),t.studentData.email?/\S+@\S+\.\S+/.test(t.studentData.email)||(e.email="Email format is invalid"):e.email="Email is required",t.studentData.phone||(e.phone="Phone number is required")):e.studentData="Student data is required",t.studyPreferences?(t.studyPreferences.destination||(e.destination="Study destination is required"),t.studyPreferences.level||(e.level="Study level is required")):e.studyPreferences="Study preferences are required",{isValid:Object.keys(e).length===0,errors:e}},validateAppointmentData:t=>{const e={};return t.studentId||(e.studentId="Student selection is required"),t.consultantId||(e.consultantId="Consultant selection is required"),t.dateTime?new Date(t.dateTime)<new Date&&(e.dateTime="Appointment cannot be scheduled in the past"):e.dateTime="Date and time are required",t.type||(e.type="Appointment type is required"),{isValid:Object.keys(e).length===0,errors:e}},formatAppointmentTime:t=>new Date(t).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),formatDate:t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),formatTime:t=>new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),getStatusColor:t=>({scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",canceled:"bg-red-100 text-red-800",no_show:"bg-gray-100 text-gray-800",in_progress:"bg-yellow-100 text-yellow-800"})[t]||"bg-gray-100 text-gray-800",getStatusText:t=>({scheduled:"Scheduled",completed:"Completed",canceled:"Canceled",no_show:"No Show",in_progress:"In Progress"})[t]||t,searchAppointments:(t,e)=>{if(!e)return t;const s=e.toLowerCase();return t.filter(r=>{var i,c,o,d,u;return((c=(i=r.student)==null?void 0:i.name)==null?void 0:c.toLowerCase().includes(s))||((d=(o=r.consultant)==null?void 0:o.name)==null?void 0:d.toLowerCase().includes(s))||((u=r.notes)==null?void 0:u.toLowerCase().includes(s))})},filterAppointmentsByDate:(t,e)=>{if(!e)return t;const s=new Date(e).toDateString();return t.filter(r=>new Date(r.dateTime).toDateString()===s)},filterAppointmentsByStatus:(t,e)=>!e||e==="all"?t:t.filter(s=>s.status===e),handleApiError:t=>{var e,s;return t.response?{message:((e=t.response.data)==null?void 0:e.error)||((s=t.response.data)==null?void 0:s.message)||"Server error occurred",status:t.response.status}:t.request?{message:"Network error. Please check your connection.",status:0}:{message:t.message||"An unexpected error occurred",status:-1}}};export{p as r};
