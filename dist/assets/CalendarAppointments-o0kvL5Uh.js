import{j as e,r as l}from"./index-D_0a8VZH.js";import{C as S}from"./Card-BZSd9g6-.js";import{A as I}from"./AppointmentCalendarView-f1qsYc6o.js";import{B as A}from"./Badge-DnoA-fpa.js";import{C as x}from"./calendar-CFgP2NK7.js";import{X as T}from"./x-DZDe4kcp.js";import{C as j}from"./clock-CRKKHv1b.js";import{M as k}from"./map-pin-Dpsu6ttS.js";import{U as C}from"./user-Col8Dc6N.js";import{F as O}from"./file-text-C1gJtZnp.js";import{U as v}from"./users-8DbqKR1r.js";import{f}from"./format-CW8_DxCc.js";import"./subMonths-Boxt7nVc.js";import"./createLucideIcon-QavIXzvy.js";import"./toDate-BKXxHYqX.js";import"./chevron-right-CqWP2rwp.js";import"./isSameDay-MFaTNiDj.js";const M=({isOpen:u,onClose:r,appointment:s,getStatusColor:n,getTypeIcon:d})=>{var m,i;if(!u||!s)return null;const h=a=>{if(!a)return"Not specified";try{const t=new Date(a);return isNaN(t.getTime())?"Invalid date":f(t,"PPP")}catch{return"Invalid date"}},c=a=>{if(!a)return"Not specified";try{const t=new Date(a);return isNaN(t.getTime())?"Invalid time":f(t,"p")}catch{return"Invalid time"}},o=a=>{if(!a)return"Not specified";try{const t=new Date(a);return isNaN(t.getTime())?"Invalid date/time":f(t,"PPP 'at' p")}catch{return"Invalid date/time"}},p=(a,t)=>{if(!a||!t)return"Not specified";try{const g=new Date(a),N=new Date(t);if(isNaN(g.getTime())||isNaN(N.getTime()))return"Invalid duration";const D=N-g,y=Math.round(D/(1e3*60)),b=Math.floor(y/60),w=y%60;return b>0?`${b}h ${w}m`:`${w}m`}catch{return"Invalid duration"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Appointment Details"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(T,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[d&&d(s.type),e.jsx("span",{className:"text-sm font-medium text-gray-600 capitalize",children:((m=s.type)==null?void 0:m.replace("_"," "))||"Appointment"})]}),e.jsx(A,{className:n?n(s.status):"",children:((i=s.status)==null?void 0:i.replace("_"," "))||"Unknown"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(x,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date"}),e.jsx("p",{className:"text-sm text-gray-600",children:h(s.startTime)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(j,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c(s.startTime)," - ",c(s.endTime)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(j,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Duration"}),e.jsx("p",{className:"text-sm text-gray-600",children:p(s.startTime,s.endTime)})]})]}),s.location&&e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(k,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.location})]})]}),s.student&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(C,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Student Information"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Name:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.student.name||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.student.email||"Not specified"})]}),s.student.phone&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Phone:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.student.phone})]})]})]}),s.notes&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(O,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notes"})]}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:s.notes})]}),s.meetingLink&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(v,{className:"h-5 w-5 text-gray-500"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Meeting Link"})]}),e.jsx("a",{href:s.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 underline break-all",children:s.meetingLink})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-gray-500",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",o(s.createdAt)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Updated:"})," ",o(s.updatedAt)]})]})})]}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"})})]})})},Q=()=>{const[u,r]=l.useState(null),[s,n]=l.useState(!1),[d,h]=l.useState([]),[c,o]=l.useState(!1),p=()=>{const t=[{id:"apt-1",studentId:"e3701205-af3b-46b5-b059-a8d1bc4ff3ba",student:{id:"e3701205-af3b-46b5-b059-a8d1bc4ff3ba",name:"John Doe",email:"john@example.com",phone:"+1234567890"},startTime:new Date(Date.now()+864e5).toISOString(),endTime:new Date(Date.now()+864e5+36e5).toISOString(),type:"virtual",status:"scheduled",notes:"Initial consultation about study abroad programs",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"apt-2",studentId:"student-2",student:{id:"student-2",name:"Jane Smith",email:"jane@example.com",phone:"+1234567891"},startTime:new Date(Date.now()+1728e5).toISOString(),endTime:new Date(Date.now()+1728e5+36e5).toISOString(),type:"in_person",status:"scheduled",notes:"Follow-up meeting to discuss application progress",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"apt-3",studentId:"student-3",student:{id:"student-3",name:"Mike Johnson",email:"mike@example.com",phone:"+1234567892"},startTime:new Date(Date.now()-864e5).toISOString(),endTime:new Date(Date.now()-864e5+36e5).toISOString(),type:"virtual",status:"completed",notes:"Discussed university options and requirements",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];h(t)};l.useEffect(()=>{c||(o(!0),p())},[]);const m=d,i=t=>{switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";case"no_show":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=t=>{switch(t){case"consultation":return e.jsx(v,{className:"h-4 w-4"});case"follow_up":return e.jsx(j,{className:"h-4 w-4"});default:return e.jsx(x,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(x,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Calendar Appointments"})]}),e.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"View and manage all your appointments in a comprehensive calendar view. Click on any appointment to see detailed information including student details, meeting notes, and status updates. This calendar provides a clear overview of your daily, weekly, and monthly schedule to help you stay organized and provide excellent service to your students."}),e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsx("span",{children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsx("span",{children:"Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),e.jsx("span",{children:"Canceled"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),e.jsx("span",{children:"No Show"})]})]})]}),e.jsx(S,{children:e.jsx(I,{appointments:m,onAppointmentClick:t=>{r(t),n(!0)},getStatusColor:i,getTypeIcon:a})}),e.jsx(M,{isOpen:s,onClose:()=>{n(!1),r(null)},appointment:u,getStatusColor:i,getTypeIcon:a})]})};export{Q as default};
