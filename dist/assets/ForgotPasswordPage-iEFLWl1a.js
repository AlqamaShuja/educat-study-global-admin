import{r as k,b as w,j as e,B as u,g as d}from"./index-8BfwU0ug.js";import{u as v}from"./index.esm-QdGXpUM4.js";import{a as S,o as C,s as F}from"./types-C1CN_l3O.js";import{I as A}from"./Input-1qecWYJp.js";import{C as P}from"./circle-check-big-rJuaF_PE.js";import{M as h}from"./mail-14nxtcVU.js";import{A as g}from"./arrow-left-DQY_MWup.js";import{L as E}from"./loader-circle-BPoqTAPP.js";import"./createLucideIcon-DXfLnrkV.js";const B=C({email:F().email("Please enter a valid email address")}),L=()=>{var n,x;const[b,j]=k.useState(!1),{forgotPassword:o,isLoading:t,error:r}=w(),{register:f,handleSubmit:p,formState:{errors:i,isSubmitting:m},setError:a,getValues:c}=v({resolver:S(B),defaultValues:{email:""}}),N=async l=>{try{const s=await o(l.email);s.success?j(!0):a("root",{message:s.error||"Failed to send reset email"})}catch{a("root",{message:"An unexpected error occurred"})}},y=async()=>{const l=c("email");if(l)try{const s=await o(l);s.success||a("root",{message:s.error||"Failed to resend email"})}catch{a("root",{message:"An unexpected error occurred"})}};return b?e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(P,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx("h2",{className:"mt-6 text-2xl font-bold text-gray-900 dark:text-white",children:"Check your email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"We've sent a password reset link to"}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900 dark:text-white",children:c("email")})]}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(h,{className:"h-5 w-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:"Didn't receive the email?"}),e.jsxs("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-400",children:[e.jsx("p",{children:"Check your spam folder, or"}),e.jsx("button",{onClick:y,disabled:t,className:"font-medium underline hover:no-underline disabled:opacity-50",children:t?"Sending...":"click here to resend"})]})]})]})}),e.jsxs(u,{as:d,to:"/login",variant:"outline",className:"w-full",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to sign in"]})]}),r&&e.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})})]})}):e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Forgot your password?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"No worries, we'll send you reset instructions."})]}),e.jsxs("form",{onSubmit:p(N),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(A,{id:"email",type:"email",placeholder:"Enter your email",className:"pl-10",...f("email"),error:(n=i.email)==null?void 0:n.message,disabled:m||t})]})]}),(i.root||r)&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:((x=i.root)==null?void 0:x.message)||r})}),e.jsxs(u,{type:"submit",className:"w-full",disabled:m||t,children:[(m||t)&&e.jsx(E,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset password"]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(d,{to:"/login",className:"flex items-center justify-center text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to sign in"]})}),e.jsx("div",{className:"mt-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-md",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:["Still having trouble? Contact our"," ",e.jsx(d,{to:"/support",className:"text-blue-600 hover:text-blue-500 dark:text-blue-400 underline",children:"support team"})]})})]})})},z=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",title:"Study Global",children:"SG"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Panel"})]})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Reset your password"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Remember your password?"," ",e.jsx(d,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"Sign in here"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(L,{})})]});export{z as default};
