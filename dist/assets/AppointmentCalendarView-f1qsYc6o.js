import{r as C,j as e}from"./index-D_0a8VZH.js";import{C as M}from"./Card-BZSd9g6-.js";import{s as D,e as S,a as k,C as $,i as A,b as E,c as T}from"./subMonths-Boxt7nVc.js";import{C as O}from"./chevron-right-CqWP2rwp.js";import{f as d}from"./format-CW8_DxCc.js";import{i as o}from"./isSameDay-MFaTNiDj.js";const W=({appointments:m=[],onAppointmentClick:x,getStatusColor:F,getTypeIcon:h})=>{const[r,c]=C.useState(new Date),g=D(r),u=S(r),p=k({start:g,end:u}),j=s=>m.filter(n=>{const a=new Date(n.dateTime);return o(a,s)}),b=s=>{switch(s){case"scheduled":return"bg-blue-500";case"completed":return"bg-green-500";case"cancelled":return"bg-red-500";case"no_show":return"bg-amber-500";default:return"bg-gray-500"}},N=()=>c(T(r,1)),v=()=>c(E(r));return e.jsx(M,{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Calendar View"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click on any appointment to view details"})]}),e.jsxs("div",{className:"bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("button",{onClick:v,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx($,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d(r,"MMMM yyyy")}),e.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(O,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>e.jsx("div",{className:"bg-gray-50 p-2 text-center text-sm font-medium text-gray-700",children:s},s)),p.map((s,n)=>{const a=j(s),f=A(s,r),y=o(s,new Date);return e.jsxs("div",{className:`min-h-[120px] p-2 bg-white ${f?"text-gray-900":"text-gray-400"} ${y?"bg-blue-50":""}`,children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:d(s,"d")}),e.jsxs("div",{className:"space-y-1",children:[a.slice(0,3).map(t=>{var l,i;const w=h(t.type);return e.jsx("div",{onClick:()=>x(t),className:`p-1 rounded text-xs cursor-pointer hover:opacity-80 transition-opacity ${b(t.status)} text-white`,title:`${((l=t.student)==null?void 0:l.name)||"Unknown"} - ${t.type.replace("_"," ")}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-2 w-2 mr-1"}),e.jsx("span",{className:"truncate",children:((i=t.student)==null?void 0:i.name)||"Unknown"})]})},t.id)}),a.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",a.length-3," more"]})]})]},n)})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),e.jsx("span",{children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),e.jsx("span",{children:"Completed"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),e.jsx("span",{children:"Cancelled"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded mr-2"}),e.jsx("span",{children:"No Show"})]})]})]})})};export{W as A};
